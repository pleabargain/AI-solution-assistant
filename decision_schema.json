{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["decision", "risk_tolerance", "pros", "cons", "opportunity_costs", "timestamp"],
  "properties": {
    "risk_tolerance": {
      "type": "number",
      "minimum": 1,
      "maximum": 10,
      "description": "User's risk tolerance level where:\n1: Zero tolerance for risk\n2-7: Increasing tolerance for financial/emotional/physical risk\n8: Willing to risk death of self\n9: Willing to risk death of family\n10: Maximum risk tolerance (death of self and others)"
    },
    "decision": {
      "type": "string",
      "description": "The decision being considered"
    },
    "opportunity_costs": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["description", "impact", "likelihood", "value", "input_source"],
        "properties": {
          "description": {
            "type": "string",
            "description": "Description of what would be foregone by making this decision"
          },
          "impact": {
            "type": "number",
            "minimum": 1,
            "maximum": 10,
            "description": "Impact rating of the foregone opportunity from 1-10"
          },
          "likelihood": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Probability that this opportunity would have been realized if chosen (0-1)"
          },
          "value": {
            "type": "number",
            "minimum": 0,
            "description": "Estimated value of the foregone opportunity"
          },
          "input_source": {
            "type": "string",
            "enum": ["HUMAN", "MACHINE"],
            "description": "Whether this opportunity cost was identified by a human or generated by AI"
          }
        }
      },
      "minItems": 0,
      "description": "List of opportunities that would be foregone by making this decision"
    },
    "pros": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["description", "impact", "likelihood", "cost", "input_source"],
        "properties": {
          "description": {
            "type": "string",
            "description": "Description of the pro"
          },
          "impact": {
            "type": "number",
            "minimum": 1,
            "maximum": 10,
            "description": "Impact rating from 1-10"
          },
          "likelihood": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Probability of this pro occurring (0-1)"
          },
          "cost": {
            "type": "number",
            "minimum": 0,
            "description": "Associated cost (if any) in implementing or achieving this pro"
          },
          "input_source": {
            "type": "string",
            "enum": ["HUMAN", "MACHINE"],
            "description": "Whether this pro was input by a human or generated by AI"
          }
        }
      },
      "minItems": 0
    },
    "cons": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["description", "impact", "likelihood", "cost", "input_source"],
        "properties": {
          "description": {
            "type": "string",
            "description": "Description of the con"
          },
          "impact": {
            "type": "number",
            "minimum": 1,
            "maximum": 10,
            "description": "Impact rating from 1-10"
          },
          "likelihood": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Probability of this con occurring (0-1)"
          },
          "cost": {
            "type": "number",
            "minimum": 0,
            "description": "Associated cost (if any) in mitigating this con"
          },
          "input_source": {
            "type": "string",
            "enum": ["HUMAN", "MACHINE"],
            "description": "Whether this con was input by a human or generated by AI"
          }
        }
      },
      "minItems": 0
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when the decision was recorded"
    },
    "ai_analysis": {
      "type": "object",
      "properties": {
        "analysis": {
          "type": "object",
          "properties": {
            "summary": {
              "type": "string",
              "description": "Summary of the analysis"
            },
            "confidence": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Confidence score of the analysis"
            },
            "recommendations": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "List of recommendations based on the analysis"
            }
          }
        },
        "evaluation": {
          "type": "object",
          "properties": {
            "pros_analysis": {
              "type": "object",
              "properties": {
                "total_impact": {
                  "type": "number",
                  "description": "Combined weighted impact of all pros"
                },
                "total_cost": {
                  "type": "number",
                  "description": "Total cost of implementing all pros"
                }
              }
            },
            "cons_analysis": {
              "type": "object",
              "properties": {
                "total_impact": {
                  "type": "number",
                  "description": "Combined weighted impact of all cons"
                },
                "total_cost": {
                  "type": "number",
                  "description": "Total cost of mitigating all cons"
                }
              }
            },
            "opportunity_costs_analysis": {
              "type": "object",
              "properties": {
                "total_impact": {
                  "type": "number",
                  "description": "Combined weighted impact of all opportunity costs"
                },
                "total_value": {
                  "type": "number",
                  "description": "Total value of foregone opportunities"
                }
              }
            },
            "risk_assessment": {
              "type": "object",
              "properties": {
                "raw_risk_score": {
                  "type": "number",
                  "description": "Average risk score before adjustment for risk tolerance"
                },
                "risk_tolerance": {
                  "type": "number",
                  "description": "User's specified risk tolerance level (1-10)"
                },
                "adjusted_risk_score": {
                  "type": "number",
                  "description": "Risk score adjusted based on user's risk tolerance"
                }
              }
            }
          }
        },
        "metadata": {
          "type": "object",
          "properties": {
            "model_used": {
              "type": "string",
              "description": "Name of the AI model used"
            },
            "timestamp": {
              "type": "string",
              "format": "date-time",
              "description": "When the analysis was performed"
            },
            "processing_time": {
              "type": "number",
              "description": "Time taken to perform the analysis in seconds"
            }
          }
        }
      }
    }
  }
}
